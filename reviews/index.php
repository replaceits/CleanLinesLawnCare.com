<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="description" content="We are a full service Lawn care and Landscape company located in Scottsville serving all surrounding counties since 2013. See what our customers have to say!">
		<meta name="subject" content="Lawn Care">
		<meta name="author" content="Clean Lines Lawn Care">
		<meta name="url" content="https://www.cleanlineslawncare.com/reviews/">
        <meta name="rating" content="General">
        <meta name="format-detection" content="telephone=no">

        <meta name="viewport" content="width=device-width, initial-scale=1">

        <meta property="og:title" content="Clean Lines Lawn Care - Reviews">
		<meta property="og:description" content="We are a full service Lawn care and Landscape company located in Scottsville serving all surrounding counties since 2013. See what our customers have to say!">
		<meta property="og:locale" content="en_US">
		<meta property="og:type" content="website">
		<meta property="og:url" content="https://www.cleanlineslawncare.com/reviews/">
		<meta property="og:image" content="https://www.cleanlineslawncare.com/images/logo-small.png">
		<meta property="og:image:type" content="image/png">
		<meta property="og:image:height" content="225">
		<meta property="og:image:width" content="225">

		<meta name="twitter:card" content="summary">
		<meta name="twitter:title" content="Clean Lines Lawn Care - Reviews">
		<meta name="twitter:description" content="We are a full service Lawn care and Landscape company located in Scottsville serving all surrounding counties since 2013. See what our customers have to say!">
		<meta name="twitter:image" content="https://www.cleanlineslawncare.com/images/logo-small.png">
		<meta name="twitter:image:alt" content="Clean Lines Lawn Care">

        <base href="https://replaceits.com/CleanLinesLawnCare.com/build/CleanLinesLawnCare.com/">

        <title>Clean Lines Lawn Care - Reviews</title>

        <link rel="stylesheet" href="css/CleanLinesLawnCare.com.css">

        <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
        <link rel="icon" type="image/png" href="favicon-32x32.png" sizes="32x32">
        <link rel="icon" type="image/png" href="favicon-16x16.png" sizes="16x16">
        <link rel="manifest" href="manifest.json">
        <link rel="mask-icon" href="safari-pinned-tab.svg" color="#169113">
        <meta name="theme-color" content="#ffffff">

        <script defer type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script defer type="text/javascript" src="js/bootstrap.min.js"></script>
        <script async defer src='https://www.google.com/recaptcha/api.js'></script>
    </head>

    <body>
        <!-- Header bar -->
        <nav class="navbar navbar-default navbar-fixed-top shadow-bottom">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/">Clean Lines Lawn Care</a>
                </div>

                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav">
                        <li><a href="">Home</a></li>
                        <li class="active"><a href="reviews">Reviews <span class="sr-only">(current)</span></a></li>
                        <li><a href="gallery">Gallery</a></li>
                        <li><a href="contact">Contact Us</a></li>
                        <li><a href="estimate">Free Estimate</a></li>
                        <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Services<span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="services">All Services</a></li>
                            <li role="separator" class="divider"></li>
                            <li><a href="services#NewInstallation">New Installation</a></li>
                            <li><a href="services#SeeingFertilizing">Seeding &amp; Fertilizing</a></li>
                            <li><a href="services#LawnAeration">Lawn Aeration</a></li>
                            <li><a href="services#Mowing">Mowing</a></li>
                            <li><a href="services#Mulching">Mulching</a></li>
                            <li><a href="services#GutterCleaning">Gutter Cleaning</a></li>
                            <li><a href="services#LeafRemoval">Leaf Removal</a></li>
                            <li><a href="services#ShrubberyCare">Shrubbery Care</a></li>
                            <li><a href="services#Pruning">Pruning</a></li>
                            <li><a href="services#WeedControl">Weed Control</a></li>
                            <li><a href="services#CompleteLawnService">Complete Lawn Service</a></li>
                            <li><a href="services#SnowRemoval">Snow Removal</a></li>
                        </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- End header bar -->
        
        <!-- Logo display -->
        <div class="parallax shadow-in-bottom" id="parallax-grass">
            <div class="logo"></div>
        </div>
        <!-- End logo -->

        <main class="container">
            <div class="row">
                <!-- Side bar for tablets and computers -->
                <aside class="col-md-2 sidebar hidden-xs computer-sidebar">
                    <div class="row">
                        <div class="col-md-12">
                            <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>&nbsp;<a href="https://www.facebook.com/Clean-Lines-Lawn-Care-412959632223355/" target="_blank">Facebook</a>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="spacer"></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <span class="glyphicon glyphicon-earphone" aria-hidden="true"></span>&nbsp;(434) 981-9705
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="spacer"></div>
                        </div>
                    </div>
                    <div class="row">
                        <div id="hoursOpen" class="col-md-12">
                            <span class="glyphicon glyphicon-hourglass" aria-hidden="true"></span>&nbsp;7:30AM - 6:00PM
                        </div>
                        <script type="text/javascript">
                            var hoursOpen = document.getElementById('hoursOpen');
                            var time = new Date();
                            if(time.getHours() >= 7 && time.getMinutes() >= 30 && time.getHours() < 18){
                                hoursOpen.className += " hours-open";
                            } else {
                                hoursOpen.className += " hours-closed";
                            }
                        </script>
                    </div>
                </aside>
                <!-- End side bar -->

                <!-- Main content of the page -->
                <section class="col-md-10 col-xs-12 col-xs-offset-0 col-md-offset-0 main-content" style="margin-right: -10px;">
                    <div class="row">
                        <header class="col-md-12 text-center">
                            <h3>Reviews</h3>
                        </header>
                    </div>

                    <?php
                        $reviewsPerPage = 5;
                        $pageOffset = 0;
                        $pageNum = 1;
                        if(isset($_GET['p']) && !empty($_GET['p']) && is_numeric($_GET['p']) && $_GET['p'] >= 1){
                            $pageOffset = (floor($_GET['p']) - 1) * $reviewsPerPage;
                            $pageNum = floor($_GET['p']);
                        } else {
                            $pageOffset = 0;
                            $pageNum = 1;
                        }
                        $database_key = file_get_contents('/api-keys/database.key');
                        $mysqli_con = new mysqli("localhost","http",$database_key,"cleanlineslawncare");

                        if(!mysqli_connect_errno()){
                            $sql = "SELECT review_rating, review_name, review_content FROM reviews ORDER BY review_id DESC LIMIT ? OFFSET ?;";
                                        
                            if($stmt = $mysqli_con->prepare($sql)){
                                $stmt->bind_param('ii',$reviewsPerPage,$pageOffset);
                                $stmt->execute();
                                $stmt->store_result();
                                $stmt->bind_result($review_rating, $review_name, $review_content);

                                if($stmt->num_rows > 0){
                                    while( $stmt->fetch()){
                    ?>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <hr>
                                                <div class="spacer"></div>
                                            </div>
                                        </div>

                                        <section class="row">
                                            <div class="col-xs-12">
                                                <blockquote>
                                                    <p style="word-wrap: break-word;overflow:hidden;">
                                                        <?php
                                                            //Remove redundant new lines
                                                            $review_content = str_replace("\r\n","<br>",htmlspecialchars($review_content));
                                                            $review_content = str_replace("\n\r","<br>",$review_content);
                                                            $review_content = str_replace("\r",  "<br>",$review_content);
                                                            $review_content = str_replace("\n",  "<br>",$review_content);

                                                            while(strpos($review_content, "<br><br><br>") !== false){
                                                                $review_content = str_replace("<br><br><br>","<br><br>",$review_content);
                                                            }

                                                            echo($review_content);
                                                        ?>
                                                    </p>
                                                    <footer>
                                                        <em>
                                                            <?php
                                                                echo(htmlspecialchars($review_name));
                                                            ?>
                                                            &nbsp;&nbsp;&nbsp;
                                                        </em>
                                                        <?php
                                                            for($i = 0; $i < $review_rating; $i++){
                                                        ?>
                                                                <span class="glyphicon glyphicon-star" aria-hidden="true"></span>
                                                        <?php
                                                            }
                                                            for($i = 0; $i < 5 - $review_rating; $i++){
                                                        ?>
                                                                <span class="glyphicon glyphicon-star-empty" aria-hidden="true"></span>
                                                        <?php
                                                            }
                                                        ?>
                                                    </footer>
                                                </blockquote>
                                            </div>
                                        </section>
                    <?php
                                    }
                                }
                                $stmt->close();
                            }

                            $sql = "SELECT COUNT(*) FROM reviews";
                                        
                            if($stmt = $mysqli_con->prepare($sql)){
                                $stmt->execute();
                                $stmt->store_result();
                                $stmt->bind_result($review_count);

                                if($stmt->num_rows === 1){
                                    while( $stmt->fetch()){
                    ?>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <hr>
                                                <div class="spacer"></div>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-xs-6">
                                                <?php
                                                    if($pageNum != 1){
                                                ?>
                                                        <a href="reviews/?p=<?php echo($pageNum-1); ?>"><span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span>&nbsp;Prev</a>
                                                <?php
                                                    }
                                                ?>
                                            </div>
                                            <div class="col-xs-6 text-right">
                                                <?php
                                                    if($review_count - ($pageNum * $reviewsPerPage) > 0){
                                                ?>
                                                        <a href="reviews/?p=<?php echo($pageNum+1); ?>">Next&nbsp;<span class="glyphicon glyphicon-arrow-right" aria-hidden="true"></span></a>
                                                <?php
                                                    }
                                                ?>
                                            </div>
                                        </div>
                    <?php
                                    }
                                }
                                $stmt->close();
                            }
                        }
                        $mysqli_con->close();
                    ?>
                </section>
                <!-- End main content -->
                <div class="col-md-2 hidden-xs" style="margin-right:10px;"></div>

                <section id="completed-form" class="hidden col-md-10 col-xs-12 col-xs-offset-0 col-md-offset-0 after-main" style="margin-top:10px;margin-right:-10px;">
                    <div class="row">
                        <header class="col-md-12 text-center">
                            <h3>Leave a review</h3>
                        </header>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <hr>
                            <div class="spacer"></div>
                        </div>
                    </div>

                    <section>
                        <div class="row">
                            <header class="col-md-12 text-center">
                                <h4 id="completed-form-status"></h4>
                            </header>
                        </div>

                        <div class="row">
                            <div class="col-md-12 text-center">
                                <p id="completed-form-content"></p>
                            </div>
                        </div>
                    </section>
                </section>

                <form id="review-form" action="review.php" method="POST" class="col-md-10 col-xs-12 col-xs-offset-0 col-md-offset-0 after-main" style="margin-top:10px;margin-right:-10px;">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="row">
                                <header class="col-md-12 text-center">
                                    <h3>Leave a review</h3>
                                </header>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xs-12 col-sm-6">
                            <div class="form-group">
                                <label for="LastName">Name</label>
                                <input maxlength="255" type="text" class="form-control" id="Name" name="Name" placeholder="Name" required>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-6">
                            <div class="form-group">
                                <label for="Rating">Rating</label>
                                <input value="0" type="hidden" class="form-control" id="Rating" name="Rating" required>
                                <div class="row">
                                    <div class="col-xs-12 text-center" style="font-size: 2.5rem;">
                                        <span class="glyphicon glyphicon-star-empty star-rating" aria-hidden="true"></span>
                                        <span class="glyphicon glyphicon-star-empty star-rating" aria-hidden="true"></span>
                                        <span class="glyphicon glyphicon-star-empty star-rating" aria-hidden="true"></span>
                                        <span class="glyphicon glyphicon-star-empty star-rating" aria-hidden="true"></span>
                                        <span class="glyphicon glyphicon-star-empty star-rating" aria-hidden="true"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xs-12">
                            <div class="form-group">
                                <label for="Review">Write your review</label>
                                <textarea id="Review" name="Review" class="form-control" rows="6" placeholder="Write your review" maxlength="5000"></textarea>
                            </div>
                            <div class="text-right">
                                <span id="textareaLen">0</span>/5000
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xs-12 text-center">
                            <div id="submitButton" class="btn btn-primary">Submit Review</div>
                        </div>
                    </div>

                    <div class="row">
                        <div id="myModal" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel">
                            <div class="modal-dialog modal-sm" role="document">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                        <h4 class="modal-title">Error</h4>
                                    </div>
                                    <div class="modal-body">
                                        <p class="text-center">You must fill in all of the required fields</p>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xs-12">
                            <div id='recaptcha' class="g-recaptcha" data-sitekey="6Le-hxgUAAAAAGu_SqKn29-j4SCIivLanTOLR-tZ" data-callback="captchaSubmit" data-size="invisible"></div>
                        </div>
                    </div>
                </form>

                <!-- Side bar on mobile goes to the bottom of the page -->
                <aside class="col-md-2 col-xs-12 sidebar visible-xs-block">
                    <div class="row">
                        <div class="col-md-12">
                            <hr>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 text-center">
                            <span class="glyphicon glyphicon-thumbs-up" aria-hidden="true"></span>&nbsp;<a href="https://www.facebook.com/Clean-Lines-Lawn-Care-412959632223355/" target="_blank">Facebook</a>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="spacer"></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 text-center">
                            <span class="glyphicon glyphicon-earphone" aria-hidden="true"></span>&nbsp;(434) 981-9705
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="spacer"></div>
                        </div>
                    </div>
                    <div class="row">
                        <div id="hoursOpenSecond" class="col-md-12 text-center">
                            <span class="glyphicon glyphicon-hourglass" aria-hidden="true"></span>&nbsp;7:30AM - 6:00PM
                        </div>
                        <script type="text/javascript">
                            hoursOpen = document.getElementById('hoursOpenSecond');
                            time = new Date();
                            if(time.getHours() >= 7 && time.getMinutes() >= 30 && time.getHours() < 18){
                                hoursOpen.className += " hours-open";
                            } else {
                                hoursOpen.className += " hours-closed";
                            }
                        </script>
                    </div>
                </aside>
                <!-- End side bar -->
            </div>
        </main>

        <!-- Footer -->
        <footer class="container-fluid footer">
            <div class="footer-item footer-item-left">
                © 2017 Clean Lines Lawn Care
            </div>
            <div class="footer-item footer-item-right">
                Site by <a href="https://www.replaceits.me">Sidney Williams</a>
            </div>
        </footer>
        <!-- End footer -->
        <script type="text/javascript">
            function onSubmit(token){}
            function captchaSubmit(token){}

            window.addEventListener('DOMContentLoaded', function() {
                onSubmit = function(token){
                    let valid = true;
                    let invalidElement = null;

                    $('#Name').each( function(){
                        if( $(this).val().length <= 0 ){
                            valid = false;
                            if (invalidElement == null) {
                                invalidElement = $(this);
                                $(window).delay(1000).scrollTop($(this).offset().top - 80);
                            }
                            $(this).parent().removeClass('has-error').removeClass('has-success').addClass('has-error');
                        } else {
                            $(this).parent().removeClass('has-error').removeClass('has-success').addClass('has-success');
                        }
                    });
                    $('#Rating').each( function(){
                        if( $(this).val() == 0 ){
                            valid = false;
                            if (invalidElement == null) {
                                invalidElement = $(this);
                                $(window).delay(1000).scrollTop($('#Name').offset().top - 80);
                            }
                            $('.star-rating').css('color','#a94442');
                        } else {
                            $('.star-rating').css('color','#3c763d');
                        }
                    });
                    if($('textarea').val().length <= 0){
                        valid = false;
                        $('textarea').parent().removeClass('has-error').removeClass('has-success').addClass('has-error');
                    } else {
                        $('textarea').parent().removeClass('has-error').removeClass('has-success').addClass('has-success');
                    }

                    invalidElement = null;

                    if (valid) {
                        grecaptcha.execute();
                    } else {
                        $('.modal-body p').text("You must fill in all of the required fields.");
                        $('#myModal').modal('show');
                    }
                }

                captchaSubmit = function(token){
                    $.ajax({
                        method: 'POST',
                        url: 'review.php',
                        cache: false,
                        data: $('#review-form').serialize()
                    }).done( function( msg ){
                        $('#completed-form-status').text("Success");
                        $('#completed-form-content').html("Your review has been left!");
                        $('#review-form').fadeOut(250,function(){$('#completed-form').removeClass('hidden').fadeOut(0).fadeIn(250);});
                    }).fail( function( jqXHR, textStatus ){
                        $('#completed-form-status').text("Error");
                        $('#completed-form-content').html("We're sorry but something wen't wrong :(<br>Please try again later.");
                        $('#review-form').fadeOut(250,function(){$('#completed-form').removeClass('hidden').fadeOut(0).fadeIn(250);});
                    });
                }

                $('#submitButton').click(onSubmit);

                $('.star-rating').hover(function(){
                    if(!$(this).hasClass('star-checked')){
                        $(this).removeClass('glyphicon-star-empty').removeClass('glyphicon-star').addClass('glyphicon-star');
                    }
                    $(this).prevAll().each(function(){
                        if(!$(this).hasClass('star-checked')){
                            $(this).removeClass('glyphicon-star-empty').removeClass('glyphicon-star').addClass('glyphicon-star');
                        }
                    });
                    $(this).nextAll().removeClass('glyphicon-star-empty').removeClass('glyphicon-star').addClass('glyphicon-star-empty');
                }, function(){
                    if(!$(this).hasClass('star-checked')){
                        $(this).removeClass('glyphicon-star').addClass('glyphicon-star-empty');
                    }
                    $(this).prevAll().each(function(){
                        if(!$(this).hasClass('star-checked')){
                            $(this).removeClass('glyphicon-star').removeClass('glyphicon-star-empty').addClass('glyphicon-star-empty');
                        } else {
                            $(this).removeClass('glyphicon-star').removeClass('glyphicon-star-empty').addClass('glyphicon-star');
                        }
                    });
                    $(this).nextAll().each(function(){
                        if(!$(this).hasClass('star-checked')){
                            $(this).removeClass('glyphicon-star').removeClass('glyphicon-star-empty').addClass('glyphicon-star-empty');
                        } else {
                            $(this).removeClass('glyphicon-star').removeClass('glyphicon-star-empty').addClass('glyphicon-star');
                        }
                    });
                }).click(function(){
                    $('.star-rating').css('color','#3c763d');
                    $(this).removeClass('glyphicon-star-empty').removeClass('glyphicon-star').removeClass('star-checked').addClass('glyphicon-star').addClass('star-checked').prevAll().removeClass('glyphicon-star').removeClass('glyphicon-star-empty').removeClass('glyphicon-star').addClass('glyphicon-star').addClass('star-checked');
                    $(this).nextAll().removeClass('glyphicon-star-empty').removeClass('glyphicon-star').removeClass('star-checked').addClass('glyphicon-star-empty');

                    $('#Rating').val(($(this).prevAll().length+1));
                });

                $('input:required').on("change paste keyup", function(){
                    if($(this).val().length > 0 && $(this).val().length < 255){
                        $(this).parent().removeClass('has-error').removeClass('has-success').addClass('has-success');
                    } else {
                        $(this).parent().removeClass('has-error').removeClass('has-success').addClass('has-error');
                    }
                });
                
                $('textarea').on("change paste keyup", function(){
                    $("#textareaLen").text($(this).val().length);
                    if($(this).val().length > 0 && $(this).val().length <= 5000){
                        $(this).parent().removeClass('has-error').removeClass('has-success').addClass('has-success');
                    } else {
                        $(this).parent().removeClass('has-error').removeClass('has-success').addClass('has-error');
                    }
                });
            });
        </script>
    </body>
</html>
